section .text
global hwint
extern helloworld
extern t_readvals
extern t_writevals
extern write_int
extern open
extern dummy
extern close
extern kprintf
extern lseek
extern exec
extern read
extern malloc
extern t_putc
extern dread
align 4
hwint:call t_readvals
popad
cmp ah,0
jz hw
cmp ah,1
jz pr
cmp ah,2
jz _open
cmp ah,3
jz _close
cmp ah,4
jz _exec
cmp ah,5
jz _lseek
cmp ah,6
jz _print
cmp ah,7
jz _iread
cmp ah,8
jz _t_readvals
cmp ah,9
jz _t_writevals
cmp ah,10
jz imalloc
cmp ah,11
jz _t_putc
mov ebp,esp
push 'E'
call t_putc
jmp fin
hw:call helloworld
jmp fin
pr:call helloworld
jmp fin
_open:popad
mov ebp,esp
push edx
push ecx
push ebx
call open
mov [ebp-4],eax
fin:popad
iret
